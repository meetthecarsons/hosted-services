# Wildcard rule for services ending in .svc.internal
# the backend name is the hostname without the suffix

*.svc.internal {
    reverse_proxy {http.request.host.strip_suffix(".svc.internal")}

    # use Caddy's internal CA; clients must trust it or you can omit for
    # plaintext HTTP on the LAN
    tls internal
}

